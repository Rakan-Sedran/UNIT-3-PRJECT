{% extends "base.html" %}

{% block content %}
<div class="container mt-4">

  <div class="card shadow-sm mb-4">
      <div class="card-body">
          <h2 class="mb-1">{{ classsubject.subject.name }}</h2>
          <p class="text-muted">Teacher: {{ classsubject.teacher.username }}</p>
      </div>
  </div>

  <div class="card shadow-sm mb-4">
      <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Lessons</h4>
      </div>
      <div class="card-body">
          <ul class="list-group">
              {% for lesson in lessons %}
                  <li class="list-group-item">{{ lesson.title }}</li>
              {% empty %}
                  <li class="list-group-item text-muted">No lessons available.</li>
              {% endfor %}
          </ul>
      </div>
  </div>

  <div class="card shadow-sm mb-4">
      <div class="card-header bg-warning">
          <h4 class="mb-0">Homeworks</h4>
      </div>
      <div class="card-body">
          <ul class="list-group">
              {% for hw in homeworks %}
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                      <div>
                        <strong>{{ hw.title }}</strong><br>
                        <small class="text-muted">Due: {{ hw.due_date }}</small>
                      </div>
                      <a href="{% url 'progress:homework_submit' hw.id %}" class="btn btn-sm btn-primary">Submit</a>
                  </li>
              {% empty %}
                  <li class="list-group-item text-muted">No homeworks.</li>
              {% endfor %}
          </ul>
      </div>
  </div>

  <div class="card shadow-sm mb-5">
      <div class="card-header bg-success text-white">
          <h4 class="mb-0">Quizzes</h4>
      </div>
      <div class="card-body">
          <ul class="list-group">
              {% for quiz in quizzes %}
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                      <div>
                        <strong>{{ quiz.title }}</strong><br>
                        <small class="text-muted">Marks: {{ quiz.total_marks }}</small>
                      </div>
                      <a href="{% url 'progress:quiz_submit' quiz.id %}" class="btn btn-sm btn-success">Answer</a>
                  </li>
              {% empty %}
                  <li class="list-group-item text-muted">No quizzes.</li>
              {% endfor %}
          </ul>
      </div>
  </div>

</div>
{% endblock %}
