{% extends "base.html" %}

{% block content %}
<div class="card shadow p-4">
    <h2 class="mb-3">{{ subject.name }}</h2>

    <p class="text-muted">
        Teacher: <strong>{{ class_subject.teacher.get_full_name }}</strong><br>
        Academic Year: {{ class_subject.academic_year }}
    </p>

    <hr>

    <h4>Enrolled Students</h4>
    <ul class="list-group mb-4">
        {% for s in students %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ s.user.get_full_name }} (ID: {{ s.user.id }})

                <form method="post" action="{% url 'courses:remove_student_from_class' s.id %}">
                    {% csrf_token %}
                    <button class="btn btn-danger btn-sm">Remove</button>
                </form>
            </li>
        {% empty %}
            <li class="list-group-item">No students enrolled.</li>
        {% endfor %}
    </ul>

    <a href="{% url 'courses:enroll_student' %}" class="btn btn-primary">Add Students</a>
</div>
{% endblock %}
