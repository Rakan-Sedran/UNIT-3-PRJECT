{% extends "base.html" %}
{% block content %}
<h1><i class="fas fa-award me-2"></i> My Grades</h1>
<hr>

<div class="card shadow-lg">
    <div class="card-header p-0">
        <ul class="nav nav-tabs" id="gradeTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="homework-tab" data-bs-toggle="tab" data-bs-target="#homework" type="button" role="tab" aria-controls="homework" aria-selected="true">
                    <i class="fas fa-clipboard-list me-2"></i> Homework Grades
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="quiz-tab" data-bs-toggle="tab" data-bs-target="#quiz" type="button" role="tab" aria-controls="quiz" aria-selected="false">
                    <i class="fas fa-question-circle me-2"></i> Quiz Grades
                </button>
            </li>
        </ul>
    </div>
    
    <div class="card-body">
        <div class="tab-content" id="gradeTabsContent">
            
            <div class="tab-pane fade show active" id="homework" role="tabpanel" aria-labelledby="homework-tab">
                <h5 class="mb-3 text-primary">Homework Scores</h5>
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>Subject</th>
                                <th>Homework Title</th>
                                <th>Date Submitted</th>
                                <th>Grade</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for sub in homework_submissions %}
                            <tr>
                                <td>{{ sub.homework.class_subject.subject.name }}</td>
                                <td>{{ sub.homework.title }}</td>
                                <td>{{ sub.submitted_at|date:"M d, Y" }}</td>
                                <td>
                                    {% if sub.grade is not None %}
                                        <span class="badge bg-success fs-6">{{ sub.grade }}</span>
                                    {% else %}
                                        <span class="badge bg-warning fs-6">Pending</span>
                                    {% endif %}
                                </td>
                            </tr>
                            {% empty %}
                            <tr><td colspan="4" class="text-center p-4">No homework submissions found.</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            
            </div>
    </div>
</div>
{% endblock %}